<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Layer Types · FeedbackNets Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>FeedbackNets Documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Guide</span><ul><li><a class="toctext" href="../../guide/getting_started/">Getting Started</a></li><li><a class="toctext" href="../../guide/chains_vs_trees/">Chains vs Trees</a></li><li><a class="toctext" href="../../guide/working_with_networks/">Working with Networks</a></li></ul></li><li><span class="toctext">Reference</span><ul><li><a class="toctext" href="../reference/">Overview</a></li><li><a class="toctext" href="../basetypes/">Base Types</a></li><li class="current"><a class="toctext" href>Layer Types</a><ul class="internal"><li><a class="toctext" href="#Mergers-1">Mergers</a></li><li><a class="toctext" href="#Splitters-1">Splitters</a></li><li><a class="toctext" href="#Other-layers-1">Other layers</a></li></ul></li><li><a class="toctext" href="../networks/">Network Types</a></li><li><a class="toctext" href="../preimplemented/">Preimplemented Models</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Reference</li><li><a href>Layer Types</a></li></ul><a class="edit-page" href="https://github.com/cJarvers/FeedbackNets.jl/blob/master/docs/src/reference/layers.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Layer Types</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Layer-Types-1" href="#Layer-Types-1">Layer Types</a></h1><p>Currently, a basic <code>Merger</code> layer and a <code>Splitter</code> layer are implemented. In addition, there are several convenience layers for the preimplemented models.</p><h2><a class="nav-anchor" id="Mergers-1" href="#Mergers-1">Mergers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.Mergers.Merger" href="#FeedbackNets.Mergers.Merger"><code>FeedbackNets.Mergers.Merger</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Merger{F,O}</code></pre><p>An element in a <code>FeedbackChain</code> in which the forward stream and feedback stream are combined according to an operation <code>op</code>.</p><p><strong>Fields</strong></p><ul><li><code>splitname::String</code>: name of the <code>Splitter</code> node from which the feedback is taken</li><li><code>fb::F</code>: feedback branch</li><li><code>op::O</code>: operation to combine forward and feedback branches</li></ul><p><strong>Details</strong></p><p><code>fb</code> typically takes the form of a Flux operation or chain. When a <code>FeedbackChain</code> encounters a <code>Merger</code>, it will look up the state <code>s</code> of the <code>Splitter</code> given by <code>forkname</code> from the previous timestep, apply <code>fb</code> to it and combine it with the forward input <code>x</code> according  to <code>op(x, fb(s))</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/Mergers.jl#L10-L26">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.Mergers.inputname-Tuple{Merger}" href="#FeedbackNets.Mergers.inputname-Tuple{Merger}"><code>FeedbackNets.Mergers.inputname</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">inputname(m::Merger)</code></pre><p>Return the name of the <code>Splitter</code> from which <code>m</code> gets its input.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/Mergers.jl#L42-L46">source</a></section><h2><a class="nav-anchor" id="Splitters-1" href="#Splitters-1">Splitters</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.Splitters.Splitter" href="#FeedbackNets.Splitters.Splitter"><code>FeedbackNets.Splitters.Splitter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Splitter</code></pre><p>An element in a <code>FeedbackChain</code> that marks locations where a feedback branch forks off from the forward branch.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: unique name used to identify the fork for the backward pass.</li></ul><p><strong>Details</strong></p><p>In the forward stream, a is essentially an identity operation. It only alerts the <code>FeedbackChain</code> to add the current Array to the chain&#39;s state and mark it with the Splitters <code>name</code> so that <code>Merger</code>s can access it for feedback to the next timestep.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/Splitters.jl#L5-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.Splitters.splitname-Tuple{Splitter}" href="#FeedbackNets.Splitters.splitname-Tuple{Splitter}"><code>FeedbackNets.Splitters.splitname</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">splitname(s::Splitter)</code></pre><p>Return name of <code>s</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/Splitters.jl#L24-L28">source</a></section><h2><a class="nav-anchor" id="Other-layers-1" href="#Other-layers-1">Other layers</a></h2><p>The preimplemented models use a flattening layer and local response normalization.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.ModelFactory.Flatten.flatten-Tuple{Any}" href="#FeedbackNets.ModelFactory.Flatten.flatten-Tuple{Any}"><code>FeedbackNets.ModelFactory.Flatten.flatten</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">flatten(x)</code></pre><p>Turns a high-dimensional array (e.g., a batch of feature maps) into a 2-d array, linearizing all except the last (batch) dimension.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/modelfactory/Flatten.jl#L5-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.ModelFactory.LRNs" href="#FeedbackNets.ModelFactory.LRNs"><code>FeedbackNets.ModelFactory.LRNs</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Implementation of local response normalization.</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/modelfactory/LRNs.jl#L1-L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.ModelFactory.LRNs.LRN" href="#FeedbackNets.ModelFactory.LRNs.LRN"><code>FeedbackNets.ModelFactory.LRNs.LRN</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">LRN{T,I}</code></pre><p>Local response normalization layer. Input <code>i</code> is processed according to out(x,y,f,b) = x * [b + α * sum( i(x, y, f-k÷2:f+k÷2, b)^2 )]^(-β)</p><p>Todo: β is currently ignored (always set to 0.5)</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/modelfactory/LRNs.jl#L9-L16">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FeedbackNets.ModelFactory.LRNs.LRN-Tuple{Any}" href="#FeedbackNets.ModelFactory.LRNs.LRN-Tuple{Any}"><code>FeedbackNets.ModelFactory.LRNs.LRN</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">(l::LRN)(i)</code></pre><p>Applies a local response normalization layer according to: out(x,y,f,b) = x * [c + α * sum( i(x, y, f-k÷2:f+k÷2, b)^2 )]^(-β)</p><p>Todo: β is currently ignored (always set to 0.5)</p></div></div><a class="source-link" target="_blank" href="https://github.com/cJarvers/FeedbackNets.jl/blob/605c7db83e88280a2d609ef146c1c86a5e216101/src/modelfactory/LRNs.jl#L24-L31">source</a></section><footer><hr/><a class="previous" href="../basetypes/"><span class="direction">Previous</span><span class="title">Base Types</span></a><a class="next" href="../networks/"><span class="direction">Next</span><span class="title">Network Types</span></a></footer></article></body></html>
